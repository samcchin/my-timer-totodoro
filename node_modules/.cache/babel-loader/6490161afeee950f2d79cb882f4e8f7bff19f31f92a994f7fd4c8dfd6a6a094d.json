{"ast":null,"code":"import React,{useContext,useEffect}from'react';import'./clock.css';import whiteTotoro from'../../../assets/mini_white_totoro.png';import blueTotoro from'../../../assets/blue_totoro.png';import{StateContext}from'../../state_provider/StateProvider';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Clock=function Clock(){var _useContext=useContext(StateContext),time=_useContext.time,setTime=_useContext.setTime,isActive=_useContext.isActive,setIsActive=_useContext.setIsActive,initTime=_useContext.initTime;useEffect(function(){if(isActive&&time>0){var interval=setInterval(function(){setTime(function(time){return time-1;});},1000);return function(){return clearInterval(interval);};}},[time,isActive]);var toggleClock=function toggleClock(){setIsActive(!isActive);};var resetTime=function resetTime(){setTime(initTime);setIsActive(false);};var getTime=function getTime(time){var minute=Math.floor(time/60);var second=time%60;return\"\".concat(minute<10?\"0\"+minute:minute,\":\").concat(second<10?\"0\"+second:second);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"clock_container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"timer_text\",children:getTime(time)}),/*#__PURE__*/_jsxs(\"button\",{onClick:toggleClock,className:\"start_pause_button\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"white-totoro\",src:whiteTotoro,alt:\"Image\"}),isActive?\"Pause\":\"Start\"]}),time===0&&/*#__PURE__*/_jsxs(\"button\",{onClick:resetTime,className:\"reset_button\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"blue-totoro\",src:blueTotoro,alt:\"Image\"}),\"Reset\"]})]})});};export default Clock;","map":{"version":3,"names":["React","useContext","useEffect","whiteTotoro","blueTotoro","StateContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Clock","_useContext","time","setTime","isActive","setIsActive","initTime","interval","setInterval","clearInterval","toggleClock","resetTime","getTime","minute","Math","floor","second","concat","children","className","onClick","src","alt"],"sources":["/Users/sam/hack-reactor/projects/my-timer-totodoro/src/components/timer/Clock/Clock.jsx"],"sourcesContent":["import React, {useContext, useEffect} from 'react'\nimport './clock.css';\nimport whiteTotoro from '../../../assets/mini_white_totoro.png'\nimport blueTotoro from '../../../assets/blue_totoro.png'\nimport { StateContext } from '../../state_provider/StateProvider';\n\nconst Clock = () => {\n    const {time, setTime, isActive, setIsActive, initTime} = useContext(StateContext);\n    useEffect(() => {\n        if(isActive && time > 0){\n            const interval = setInterval(() => {\n                setTime((time) => time - 1);\n            }, 1000);\n            return () => clearInterval(interval);\n        }\n    }, [time, isActive]);\n\n    const toggleClock = () => {\n        setIsActive(!isActive);\n    }\n\n    const resetTime = () => {\n        setTime(initTime);\n        setIsActive(false);\n    }\n\n    const getTime = (time) => {\n        const minute = Math.floor(time / 60);\n        const second = time % 60;\n        return `${minute < 10 ? \"0\" + minute : minute}:${second < 10 ? \"0\" + second:second}`;\n\n    }\n\n  return (\n    <>\n    <div className=\"clock_container\">\n        <div className=\"timer_text\">{getTime(time)}</div>\n        <button onClick={toggleClock} className=\"start_pause_button\">\n            <img className=\"white-totoro\" src={whiteTotoro} alt=\"Image\"/>\n            {isActive ? \"Pause\":\"Start\"}\n        </button>\n        {time === 0 && <button onClick={resetTime} className=\"reset_button\">\n            <img className=\"blue-totoro\" src={blueTotoro} alt=\"Image\"/>\n            Reset\n        </button>}\n    </div>\n    </>\n  )\n}\n\nexport default Clock\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,UAAU,CAAEC,SAAS,KAAO,OAAO,CAClD,MAAO,aAAa,CACpB,MAAO,CAAAC,WAAW,KAAM,uCAAuC,CAC/D,MAAO,CAAAC,UAAU,KAAM,iCAAiC,CACxD,OAASC,YAAY,KAAQ,oCAAoC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAElE,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAChB,IAAAC,WAAA,CAAyDZ,UAAU,CAACI,YAAY,CAAC,CAA1ES,IAAI,CAAAD,WAAA,CAAJC,IAAI,CAAEC,OAAO,CAAAF,WAAA,CAAPE,OAAO,CAAEC,QAAQ,CAAAH,WAAA,CAARG,QAAQ,CAAEC,WAAW,CAAAJ,WAAA,CAAXI,WAAW,CAAEC,QAAQ,CAAAL,WAAA,CAARK,QAAQ,CACrDhB,SAAS,CAAC,UAAM,CACZ,GAAGc,QAAQ,EAAIF,IAAI,CAAG,CAAC,CAAC,CACpB,GAAM,CAAAK,QAAQ,CAAGC,WAAW,CAAC,UAAM,CAC/BL,OAAO,CAAC,SAACD,IAAI,QAAK,CAAAA,IAAI,CAAG,CAAC,GAAC,CAC/B,CAAC,CAAE,IAAI,CAAC,CACR,MAAO,kBAAM,CAAAO,aAAa,CAACF,QAAQ,CAAC,GACxC,CACJ,CAAC,CAAE,CAACL,IAAI,CAAEE,QAAQ,CAAC,CAAC,CAEpB,GAAM,CAAAM,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACtBL,WAAW,CAAC,CAACD,QAAQ,CAAC,CAC1B,CAAC,CAED,GAAM,CAAAO,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACpBR,OAAO,CAACG,QAAQ,CAAC,CACjBD,WAAW,CAAC,KAAK,CAAC,CACtB,CAAC,CAED,GAAM,CAAAO,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIV,IAAI,CAAK,CACtB,GAAM,CAAAW,MAAM,CAAGC,IAAI,CAACC,KAAK,CAACb,IAAI,CAAG,EAAE,CAAC,CACpC,GAAM,CAAAc,MAAM,CAAGd,IAAI,CAAG,EAAE,CACxB,SAAAe,MAAA,CAAUJ,MAAM,CAAG,EAAE,CAAG,GAAG,CAAGA,MAAM,CAAGA,MAAM,MAAAI,MAAA,CAAID,MAAM,CAAG,EAAE,CAAG,GAAG,CAAGA,MAAM,CAACA,MAAM,EAEtF,CAAC,CAEH,mBACErB,IAAA,CAAAI,SAAA,EAAAmB,QAAA,cACArB,KAAA,QAAKsB,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC5BvB,IAAA,QAAKwB,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAEN,OAAO,CAACV,IAAI,CAAC,CAAM,CAAC,cACjDL,KAAA,WAAQuB,OAAO,CAAEV,WAAY,CAACS,SAAS,CAAC,oBAAoB,CAAAD,QAAA,eACxDvB,IAAA,QAAKwB,SAAS,CAAC,cAAc,CAACE,GAAG,CAAE9B,WAAY,CAAC+B,GAAG,CAAC,OAAO,CAAC,CAAC,CAC5DlB,QAAQ,CAAG,OAAO,CAAC,OAAO,EACvB,CAAC,CACRF,IAAI,GAAK,CAAC,eAAIL,KAAA,WAAQuB,OAAO,CAAET,SAAU,CAACQ,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC/DvB,IAAA,QAAKwB,SAAS,CAAC,aAAa,CAACE,GAAG,CAAE7B,UAAW,CAAC8B,GAAG,CAAC,OAAO,CAAC,CAAC,QAE/D,EAAQ,CAAC,EACR,CAAC,CACJ,CAAC,CAEP,CAAC,CAED,cAAe,CAAAtB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}